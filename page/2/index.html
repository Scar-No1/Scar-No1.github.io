<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Han&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Han&#39;s blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Han&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Han">
<meta property="article:tag" content="Daily Rcording">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Han's blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Han&#39;s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Daily Rcording</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Reading-Seminar-Financing" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/30/Reading-Seminar-Financing/" class="article-date">
  <time class="dt-published" datetime="2020-11-30T14:16:23.000Z" itemprop="datePublished">2020-11-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/30/Reading-Seminar-Financing/">Reading Seminar Financing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://imgchr.com/i/DWMpm6"><img src="https://s3.ax1x.com/2020/11/30/DWMpm6.jpg" alt="DWMpm6.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/DWKx61"><img src="https://s3.ax1x.com/2020/11/30/DWKx61.jpg" alt="DWKx61.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/DWKvlR"><img src="https://s3.ax1x.com/2020/11/30/DWKvlR.jpg" alt="DWKvlR.jpg"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/11/30/Reading-Seminar-Financing/" data-id="ckptrgenu002lg4vu1hrh8ume" data-title="Reading Seminar Financing" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Python-the-center-of-film-industry-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/15/Python-the-center-of-film-industry-2/" class="article-date">
  <time class="dt-published" datetime="2020-11-15T14:06:14.000Z" itemprop="datePublished">2020-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/15/Python-the-center-of-film-industry-2/">Python the center of film industry 2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>  Following the last blog, I installed a new package called <code>pyvis</code>. It can visualize the information and form interactive images.</p>
<p>I prepared to visualize the working relationship  between the actors and actresses in film Avengers.</p>
<p>First, get the data.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cast=[]</span><br><span class="line">cast2=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">114827</span>):</span><br><span class="line">    <span class="keyword">if</span>  <span class="string">&#x27;companies&#x27;</span><span class="keyword">in</span> Movies[i].keys() <span class="keyword">and</span> <span class="string">&#x27;Avengers&#x27;</span><span class="keyword">in</span> Movies[i][<span class="string">&#x27;title&#x27;</span>]:</span><br><span class="line">        cast.append(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> cast:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> Movies[i][<span class="string">&#x27;companies&#x27;</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;Marvel&#x27;</span><span class="keyword">in</span> j:</span><br><span class="line">            cast2.append(i)</span><br><span class="line"><span class="built_in">print</span>(cast2)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[39550, 65904, 83523, 83588]</span><br></pre></td></tr></table></figure>



<p>Second, form the relationship.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">G = nx.Graph()  </span><br><span class="line">Mov=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> cast2:</span><br><span class="line">    Mov.append(Movies[i])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> movie <span class="keyword">in</span> Mov: </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(movie[<span class="string">&quot;cast&quot;</span>]) - <span class="number">1</span>): </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, <span class="built_in">len</span>(movie[<span class="string">&quot;cast&quot;</span>])): </span><br><span class="line">            G.add_edge(movie[<span class="string">&quot;cast&quot;</span>][i], movie[<span class="string">&quot;cast&quot;</span>][j], title=movie[<span class="string">&quot;title&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Third, draw the diagram.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">displayG = Network(width=<span class="number">1024</span>, height=<span class="number">768</span>, notebook = <span class="literal">True</span>) <span class="comment"># 创建 pyvis 中的 Network 对象，可以设置长度、宽度、是否在当前笔记本中显示等</span></span><br><span class="line"></span><br><span class="line">displayG.from_nx(G) <span class="comment"># 将 NetWorkX 的图导入 pyvis</span></span><br><span class="line"></span><br><span class="line">displayG.show(<span class="string">&#x27;test.html&#x27;</span>) <span class="comment"># 展示，并可生成一个名为 &quot;test.html&quot; 的网页文件</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/DFotWn"><img src="https://s3.ax1x.com/2020/11/15/DFotWn.png" alt="DFotWn.png"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/11/15/Python-the-center-of-film-industry-2/" data-id="ckptrgenq0026g4vug33405vn" data-title="Python the center of film industry 2" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Python-the-center-of-film-industry" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/31/Python-the-center-of-film-industry/" class="article-date">
  <time class="dt-published" datetime="2020-10-31T12:52:27.000Z" itemprop="datePublished">2020-10-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-learning/">Computer learning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/31/Python-the-center-of-film-industry/">Python the center of film industry</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Backbround"><a href="#Backbround" class="headerlink" title="Backbround"></a>Backbround</h3><p>Social network analysis  is a branch of data science that allows the investigation of social structures using networks and graph theory. It can help to reveal patterns in voting preferences, aid the understanding of how ideas spread, and even help to model the spread of diseases.</p>
<p>A social network is made up of a set of nodes (usually people) that have links, or edges between them that describe their relationships.</p>
<p>My analysis is carried out using the Python programming language and, in particular, the tools available in the <code>NetworkX</code> library.</p>
<h3 id="About-this-programme"><a href="#About-this-programme" class="headerlink" title="About this programme"></a>About this programme</h3><p>Here is a film data collection collected by Rhyd Lewis in 18th February 2020. It includes 114827 films’ information.</p>
<ul>
<li>I need to write some function , allowing us to do some research conveniently. </li>
<li>Draw the diagram to show the relationships between these film stars.</li>
</ul>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="keyword">import</span> matplotlib . pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> statistics</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Movies = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span> (<span class="string">&quot;./data.json&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding =<span class="string">&quot;utf -8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">        J = json.loads(line)</span><br><span class="line">        Movies.append(J)      <span class="comment"># read the data and put the imformation of each film in to a list</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(Movies)</span><br><span class="line"></span><br><span class="line"><span class="number">114827</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Movies[<span class="number">10086</span>]</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;A Yank at Oxford&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;cast&#x27;</span>: [<span class="string">&#x27;Robert Taylor&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Lionel Barrymore&#x27;</span>,</span><br><span class="line">  <span class="string">&quot;Maureen O&#x27;Sullivan&quot;</span>,</span><br><span class="line">  <span class="string">&#x27;Vivien Leigh&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Edmund Gwenn&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Griffith Jones&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;C.V. France&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Edward Rigby&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Morton Selten&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Claude Gillingwater&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Tully Marshall&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Walter Kingsford&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Robert Coote&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Peter Croft&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Noel Howlett&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Ronald Shiner&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Jon Pertwee&#x27;</span>],</span><br><span class="line"> <span class="string">&#x27;directors&#x27;</span>: [<span class="string">&#x27;Jack Conway&#x27;</span>],</span><br><span class="line"> <span class="string">&#x27;producers&#x27;</span>: [<span class="string">&#x27;Michael Balcon&#x27;</span>],</span><br><span class="line"> <span class="string">&#x27;companies&#x27;</span>: [<span class="string">&#x27;Metro-Goldwyn-Mayer&#x27;</span>],</span><br><span class="line"> <span class="string">&#x27;year&#x27;</span>: <span class="number">1938</span>&#125;</span><br><span class="line"> <span class="comment">#the detailed information is put in a dictionary.</span></span><br></pre></td></tr></table></figure>



<p>Then I write a function which can help search the film information. By input the type of keywords that you want to search and the keywords, the programme can return order number of the films which satisfy the requirements.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_films</span>(<span class="params">key, value</span>):</span></span><br><span class="line">    films=[]   </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">0</span>,<span class="number">114827</span>):</span><br><span class="line">        <span class="keyword">if</span> key  <span class="keyword">in</span> Movies[i].keys():             </span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">type</span>(Movies[i][key])==<span class="built_in">str</span>:</span><br><span class="line">                <span class="keyword">if</span> value==Movies[i][key]:</span><br><span class="line">                    films.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">for</span> u <span class="keyword">in</span> Movies[i][key]:</span><br><span class="line">                    <span class="keyword">if</span> u==value:</span><br><span class="line">                        films.append(i)</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> films</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#text the function</span></span><br><span class="line"></span><br><span class="line">search_films(<span class="string">&#x27;cast&#x27;</span>, <span class="string">&#x27;Jackie Chan&#x27;</span>)</span><br><span class="line"></span><br><span class="line">[<span class="number">26</span>,</span><br><span class="line"> <span class="number">911</span>,</span><br><span class="line"> <span class="number">1084</span>,</span><br><span class="line"> <span class="number">1103</span>,</span><br><span class="line"> <span class="number">1161</span>,</span><br><span class="line"> <span class="number">1365</span>,</span><br><span class="line"> <span class="number">1402</span>,</span><br><span class="line"> <span class="number">1793</span>,</span><br><span class="line"> <span class="number">1980</span>,</span><br><span class="line"> <span class="number">2131</span>,</span><br><span class="line"> <span class="number">2210</span>,</span><br><span class="line"> <span class="number">2394</span>,</span><br><span class="line"> <span class="number">2395</span>,</span><br><span class="line"> <span class="number">2396</span>,</span><br><span class="line"> <span class="number">2397</span>,</span><br><span class="line"> ....]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ids = search_films(<span class="string">&#x27;cast&#x27;</span>, <span class="string">&#x27;Jackie Chan&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ids:</span><br><span class="line">    <span class="built_in">print</span>(Movies[i][<span class="string">&#x27;year&#x27;</span>], Movies[i][<span class="string">&#x27;title&#x27;</span>])</span><br><span class="line">    </span><br><span class="line"><span class="number">1973</span> Enter the Dragon</span><br><span class="line"><span class="number">1995</span> Rumble <span class="keyword">in</span> the Bronx</span><br><span class="line"><span class="number">1998</span> Who Am I? (<span class="number">1998</span> film)</span><br><span class="line"><span class="number">2003</span> Shanghai Knights</span><br><span class="line"><span class="number">2000</span> Shanghai Noon</span><br><span class="line"><span class="number">1998</span> An Alan Smithee Film: Burn Hollywood Burn</span><br><span class="line"><span class="number">2002</span> The Tuxedo</span><br><span class="line"><span class="number">1978</span> Drunken Master</span><br><span class="line"><span class="number">1998</span> Rush Hour (<span class="number">1998</span> film)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ids = search_films(<span class="string">&#x27;companies&#x27;</span>, <span class="string">&#x27;Marvel Studios&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ids:</span><br><span class="line">    <span class="built_in">print</span>(Movies[i][<span class="string">&#x27;year&#x27;</span>], Movies[i][<span class="string">&#x27;title&#x27;</span>])</span><br><span class="line">    </span><br><span class="line">ids = search_films(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;Back to the Future&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ids:</span><br><span class="line">    <span class="built_in">print</span>(Movies[i][<span class="string">&#x27;year&#x27;</span>], Movies[i][<span class="string">&#x27;title&#x27;</span>])</span><br></pre></td></tr></table></figure>



<p>Then by using a for loop and <code>NetworkX</code>, draw a diagram to show the relationship between film stars which have been worked together.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">G = nx.MultiGraph()  </span><br><span class="line"><span class="keyword">for</span> movie <span class="keyword">in</span> Movies[<span class="number">0</span>:<span class="number">3</span>]: </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(movie[<span class="string">&quot;cast&quot;</span>]) - <span class="number">1</span>): </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, <span class="built_in">len</span>(movie[<span class="string">&quot;cast&quot;</span>])): </span><br><span class="line">            G.add_edge(movie[<span class="string">&quot;cast&quot;</span>][i], movie[<span class="string">&quot;cast&quot;</span>][j], title=movie[<span class="string">&quot;title&quot;</span>])</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">nx.draw_shell(G, with_labels=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>



<p>Because the original data set is too big, it’s impossible for me to process it and draw the diagram.</p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/Bahx6f"><img src="https://s1.ax1x.com/2020/10/31/Bahx6f.png" alt="Bahx6f.png"></a></p>
<p> I reduce the number of the information used. Though there are only three film industry information, the relationship is still very complicated.</p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/Ba4eXT"><img src="https://s1.ax1x.com/2020/10/31/Ba4eXT.png" alt="Ba4eXT.png"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/31/Python-the-center-of-film-industry/" data-id="ckptrgenr0029g4vu5tng94b1" data-title="Python the center of film industry" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Lesson/" rel="tag">Python Lesson</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-Download-files-from-website" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/25/Python-Download-files-from-website/" class="article-date">
  <time class="dt-published" datetime="2020-10-25T13:15:55.000Z" itemprop="datePublished">2020-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-learning/">Computer learning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/25/Python-Download-files-from-website/">Python:Download files from website</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This is the 11th paragraphs on the Python book. It talks about the way of getting and downloading files from the Internet and how to analyse the HTML. I first learned about the first part , which I think it may be help for me to download articles when preparing for my essay.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&#x27;http://inventwithpython.com/&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>There is a package called <code>webbrowser</code> which can be used to open URL using Web.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pyperclip</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(sys.argv)&gt;<span class="number">1</span>:</span><br><span class="line">    adress=<span class="string">&#x27; &#x27;</span>.join(sys.argv[<span class="number">1</span>:])</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    adress=pyperclip.paste()</span><br><span class="line">    </span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&#x27;http://www.google.com/maps/place/&#x27;</span>+adress)</span><br></pre></td></tr></table></figure>

<p>Using this way,  import the <code>sys</code> package to read the possible command line parameters, we can open the website directly from the Jupyter Notebook.</p>
<p>The next part teaches the <code>requests</code> package. We need to install this package first in the Jupyter Prompt.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">res=requests.get(<span class="string">&#x27;http://www.gutenberg.org/cache/epub/1112/pg1112.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">type</span>(res)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">requests.models.Response</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>type()` returns a Response object, including the response from the Web service to your accessing request.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">res.status_code==requests.codes.ok</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span>(res.text)</span><br><span class="line"><span class="number">179380</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res.text[:<span class="number">250</span>])</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;The Project Gutenberg EBook of Romeo and Juliet, by William Shakespeare</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*******************************************************************</span></span><br><span class="line"><span class="string">THIS EBOOK WAS ONE OF PROJECT GUTENBERG&#x27;S EARLY FILES PRODUCED AT A</span></span><br><span class="line"><span class="string">TIME WHEN PROOFING METHODS AND TOO&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>To save the document to our computer, we first need to download the file, using <code>requests.get()</code>. Then, use <code>wb</code> to open a new file and write the content in the new file through <code>iter_content()</code> loop. Finally, close the file.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">playFile.close()</span><br></pre></td></tr></table></figure>



<p>I try a new website, it does response but the content download is quit strange.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res=requests.get(<span class="string">&#x27;https://www.lifewire.com/what-is-social-media-explaining-the-big-trend-3486616&#x27;</span>)</span><br><span class="line"><span class="built_in">type</span>(res)</span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html id=&quot;structuredContentTemplate_1-0&quot; class=&quot;comp taxlevel-2  structuredContentTemplate article-html html mntl-html&quot; data-ab=&quot;99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,57,78,75&quot; data-resource-version=&quot;3.117.0&quot; lang=&quot;en&quot; data-adhesive-refresh=&quot;billboard3&quot; data-mantle-resource-version=&quot;3.12.171&quot; data-tech-resource-version=&quot;3.117.0&quot; data-tracking-container=&quot;true&quot;&gt;				</span><br><span class="line">&lt;!--</span><br><span class="line">&lt;globe-environment environment=&quot;prod&quot; application=&quot;tech&quot; dataCenter=&quot;us-west-2&quot;/&gt;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;head class=&quot;loc head&quot;&gt;				</span><br><span class="line">					</span><br><span class="line">					&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/25/Python-Download-files-from-website/" data-id="ckptrgenl001pg4vue4vtc1oo" data-title="Python:Download files from website" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Lesson/" rel="tag">Python Lesson</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-tweets-data-analysis" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/11/Python-tweets-data-analysis/" class="article-date">
  <time class="dt-published" datetime="2020-10-11T13:41:21.000Z" itemprop="datePublished">2020-10-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-learning/">Computer learning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/11/Python-tweets-data-analysis/">Python tweets data analysis</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This python programme is from a Canada university’s question. It a data processing question.</p>
<h4 id="Requests"><a href="#Requests" class="headerlink" title="Requests"></a>Requests</h4><p><a target="_blank" rel="noopener" href="https://imgchr.com/i/0WaT7q"><img src="https://s1.ax1x.com/2020/10/12/0WaT7q.png" alt="0WaT7q.png"></a></p>
<h4 id="My-Code"><a href="#My-Code" class="headerlink" title="My Code"></a>My Code</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;C:\\Users\\PC\\keywords.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    lines= f.readlines()</span><br><span class="line"><span class="built_in">print</span>(lines)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;alone,1\n&#x27;, &#x27;amazed,10\n&#x27;, &#x27;amazing,10\n&#x27;, &#x27;bad,1\n&#x27;, &#x27;best,10\n&#x27;, &#x27;better,10\n&#x27;, &#x27;excellent,10\n&#x27;, &#x27;excited,10\n&#x27;, &#x27;excite,10\n&#x27;, &#x27;excites,10\n&#x27;, &#x27;exciting,10\n&#x27;, &#x27;glad,10\n&#x27;, &#x27;god,5\n&#x27;, &#x27;good,7\n&#x27;, &#x27;great,7\n&#x27;, &#x27;greatest,10\n&#x27;, &#x27;haha,5\n&#x27;, &#x27;hahaha,5\n&#x27;, &#x27;happy,10\n&#x27;, &#x27;hate,1\n&#x27;, &#x27;hurt,1\n&#x27;, &#x27;hurts,1\n&#x27;, &#x27;hurting,1\n&#x27;, &#x27;like,7\n&#x27;, &#x27;likes,7\n&#x27;, &#x27;liked,7\n&#x27;, &#x27;lol,5\n&#x27;, &#x27;lonely,1\n&#x27;, &#x27;love,10\n&#x27;, &#x27;loves,10\n&#x27;, &#x27;loved,10\n&#x27;, &#x27;loving,10\n&#x27;, &#x27;lovin,10\n&#x27;, &#x27;need,1\n&#x27;, &#x27;needs,1\n&#x27;, &#x27;negative,1\n&#x27;, &#x27;please,5\n&#x27;, &#x27;positive,7\n&#x27;, &#x27;pretty,10\n&#x27;, &#x27;prettiest,10\n&#x27;, &#x27;regret,1\n&#x27;, &#x27;regrets,1\n&#x27;, &#x27;ruin,1\n&#x27;, &#x27;ruins,1\n&#x27;, &#x27;ruined,1\n&#x27;, &#x27;sad,1\n&#x27;, &#x27;save,5\n&#x27;, &#x27;saves,5\n&#x27;, &#x27;saved,5\n&#x27;, &#x27;sorry,1\n&#x27;, &#x27;thank,5\n&#x27;, &#x27;thanks,5\n&#x27;, &#x27;tired,1\n&#x27;, &#x27;worst,1\n&#x27;]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(lines[<span class="number">0</span>].replace(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;alone&#x27;, &#x27;1&#x27;]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">keywords=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">    keyword, value =line.replace(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    keywords[keyword]=<span class="built_in">int</span>(value)</span><br><span class="line">    </span><br><span class="line">keywords</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;alone&#x27;: 1,</span><br><span class="line"> &#x27;amazed&#x27;: 10,</span><br><span class="line"> &#x27;amazing&#x27;: 10,</span><br><span class="line"> &#x27;bad&#x27;: 1,</span><br><span class="line"> &#x27;best&#x27;: 10,</span><br><span class="line"> &#x27;better&#x27;: 10,</span><br><span class="line"> &#x27;excellent&#x27;: 10,</span><br><span class="line"> &#x27;excited&#x27;: 10,</span><br><span class="line"> &#x27;excite&#x27;: 10,</span><br><span class="line"> &#x27;excites&#x27;: 10,</span><br><span class="line"> &#x27;exciting&#x27;: 10,</span><br><span class="line"> &#x27;glad&#x27;: 10,</span><br><span class="line"> &#x27;god&#x27;: 5,</span><br><span class="line"> &#x27;good&#x27;: 7,</span><br><span class="line"> &#x27;great&#x27;: 7,</span><br><span class="line"> &#x27;greatest&#x27;: 10,</span><br><span class="line"> &#x27;haha&#x27;: 5,</span><br><span class="line"> &#x27;hahaha&#x27;: 5,</span><br><span class="line"> &#x27;happy&#x27;: 10,</span><br><span class="line"> &#x27;hate&#x27;: 1,</span><br><span class="line"> &#x27;hurt&#x27;: 1,</span><br><span class="line"> &#x27;hurts&#x27;: 1,</span><br><span class="line"> &#x27;hurting&#x27;: 1,</span><br><span class="line"> &#x27;like&#x27;: 7,</span><br><span class="line"> &#x27;likes&#x27;: 7,</span><br><span class="line"> &#x27;liked&#x27;: 7,</span><br><span class="line"> &#x27;lol&#x27;: 5,</span><br><span class="line"> &#x27;lonely&#x27;: 1,</span><br><span class="line"> &#x27;love&#x27;: 10,</span><br><span class="line"> &#x27;loves&#x27;: 10,</span><br><span class="line"> &#x27;loved&#x27;: 10,</span><br><span class="line"> &#x27;loving&#x27;: 10,</span><br><span class="line"> &#x27;lovin&#x27;: 10,</span><br><span class="line"> &#x27;need&#x27;: 1,</span><br><span class="line"> &#x27;needs&#x27;: 1,</span><br><span class="line"> &#x27;negative&#x27;: 1,</span><br><span class="line"> &#x27;please&#x27;: 5,</span><br><span class="line"> &#x27;positive&#x27;: 7,</span><br><span class="line"> &#x27;pretty&#x27;: 10,</span><br><span class="line"> &#x27;prettiest&#x27;: 10,</span><br><span class="line"> &#x27;regret&#x27;: 1,</span><br><span class="line"> &#x27;regrets&#x27;: 1,</span><br><span class="line"> &#x27;ruin&#x27;: 1,</span><br><span class="line"> &#x27;ruins&#x27;: 1,</span><br><span class="line"> &#x27;ruined&#x27;: 1,</span><br><span class="line"> &#x27;sad&#x27;: 1,</span><br><span class="line"> &#x27;save&#x27;: 5,</span><br><span class="line"> &#x27;saves&#x27;: 5,</span><br><span class="line"> &#x27;saved&#x27;: 5,</span><br><span class="line"> &#x27;sorry&#x27;: 1,</span><br><span class="line"> &#x27;thank&#x27;: 5,</span><br><span class="line"> &#x27;thanks&#x27;: 5,</span><br><span class="line"> &#x27;tired&#x27;: 1,</span><br><span class="line"> &#x27;worst&#x27;: 1&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;C:\\Users\\PC\\tweets.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    tweets= f.readlines()</span><br><span class="line">去重 = <span class="literal">True</span> <span class="comment"># delete the repeated texts</span></span><br><span class="line"><span class="keyword">if</span> 去重:</span><br><span class="line">    new_lines = <span class="built_in">list</span>(<span class="built_in">set</span>(tweets))</span><br><span class="line">    new_lines.sort(key=tweets.index)</span><br><span class="line">    tweets = new_lines</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(lines)</span></span><br><span class="line"><span class="built_in">print</span>(tweets)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">wholecontent=tweets[<span class="number">0</span>].split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">content3=wholecontent[<span class="number">5</span>:]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 =  -<span class="number">67.444574</span></span><br><span class="line">p2 = -<span class="number">67.444574</span></span><br><span class="line">p3 =  -<span class="number">87.518395</span></span><br><span class="line">p4 = -<span class="number">87.518395</span></span><br><span class="line">p5 = -<span class="number">101.998892</span></span><br><span class="line">p6 = -<span class="number">101.998892</span></span><br><span class="line">p7 = -<span class="number">115.236428</span></span><br><span class="line">p8 = -<span class="number">115.236428</span></span><br><span class="line">p9 =  -<span class="number">125.242264</span></span><br><span class="line">p10 =  -<span class="number">125.242264</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getTimezone</span>(<span class="params">longitude</span>):</span></span><br><span class="line">    <span class="keyword">if</span> (-<span class="number">125.242264</span> &lt; longitude) <span class="keyword">and</span> (longitude &lt;= -<span class="number">115.236428</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Pacific&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> (-<span class="number">115.236428</span> &lt; longitude) <span class="keyword">and</span> (longitude &lt;= -<span class="number">101.998892</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Mountain&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> (-<span class="number">101.998892</span> &lt; longitude) <span class="keyword">and</span> (longitude &lt;= -<span class="number">87.518395</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Central&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> (-<span class="number">87.518395</span> &lt; longitude) <span class="keyword">and</span> (longitude &lt;= -<span class="number">67.444574</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Eastern&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">content2=[]</span><br><span class="line">content3=[]</span><br><span class="line">list2=[]</span><br><span class="line">location=[]</span><br><span class="line">general=&#123;&#125;</span><br><span class="line">total=&#123;&#125;</span><br><span class="line">Pacific = <span class="number">0</span></span><br><span class="line">Mountain = <span class="number">0</span></span><br><span class="line">Central = <span class="number">0</span></span><br><span class="line">Eastern = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(tweets)):</span><br><span class="line">    wholecontent=tweets[i].split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    content3=wholecontent[<span class="number">5</span>:]</span><br><span class="line">    content1=[]</span><br><span class="line">    emovalue=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content3)):</span><br><span class="line">        str1=<span class="string">&#x27;&#x27;</span></span><br><span class="line">        content3[i]=content3[i].lower()</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content3[i])):</span><br><span class="line">            <span class="keyword">if</span> content3[i][p]&gt;=<span class="string">&#x27;a&#x27;</span> <span class="keyword">and</span> content3[i][p]&lt;=<span class="string">&#x27;z&#x27;</span>:</span><br><span class="line">                str1=str1+content3[i][p]</span><br><span class="line">        content1.append(str1)</span><br><span class="line">        <span class="keyword">while</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">in</span> content1:</span><br><span class="line">            content1.remove(<span class="string">&#x27;&#x27;</span>)  <span class="comment"># string processing</span></span><br><span class="line">        location=wholecontent[<span class="number">1</span>]</span><br><span class="line">        location=location[<span class="number">0</span>:-<span class="number">1</span>]</span><br><span class="line">        locate=<span class="built_in">float</span>(location)   <span class="comment">#get the longlitude</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content3)):</span><br><span class="line">            key=location</span><br><span class="line">            value=content1</span><br><span class="line">            total[key]=value     <span class="comment">#put in dictionary</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content1)):</span><br><span class="line">        <span class="keyword">if</span> content1[i] <span class="keyword">in</span> keywords:</span><br><span class="line">            emovalue += keywords[content1[i]]  <span class="comment">#count emovalue for each text</span></span><br><span class="line">    timezone = getTimezone(locate)</span><br><span class="line">    score = emovalue</span><br><span class="line">    <span class="keyword">if</span> timezone == <span class="string">&quot;Pacific&quot;</span>:    <span class="comment">#add the score to its area belonging</span></span><br><span class="line">        Pacific += score</span><br><span class="line">    <span class="keyword">elif</span> timezone == <span class="string">&quot;Mountain&quot;</span>:</span><br><span class="line">        Mountain += score</span><br><span class="line">    <span class="keyword">elif</span> timezone == <span class="string">&quot;Central&quot;</span>:</span><br><span class="line">        Central += score</span><br><span class="line">    <span class="keyword">elif</span> timezone == <span class="string">&quot;Eastern&quot;</span>:</span><br><span class="line">        Eastern += score</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Pacific: &#x27;</span>+<span class="built_in">str</span>(Pacific),<span class="string">&#x27; Mountain: &#x27;</span>+<span class="built_in">str</span>(Mountain), <span class="string">&#x27; Central: &#x27;</span>+<span class="built_in">str</span>(Central),<span class="string">&#x27; Eastern: &#x27;</span>+<span class="built_in">str</span>(Eastern))</span><br></pre></td></tr></table></figure>

<h4 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pacific: 1644  Mountain: 728  Central: 2711  Eastern: 5836</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/11/Python-tweets-data-analysis/" data-id="ckptrgens002eg4vucfwg7401" data-title="Python tweets data analysis" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Lesson/" rel="tag">Python Lesson</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Stage-summary-of-senior-one" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/06/Stage-summary-of-senior-one/" class="article-date">
  <time class="dt-published" datetime="2020-10-06T12:05:13.000Z" itemprop="datePublished">2020-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/06/Stage-summary-of-senior-one/">Stage summary of senior one</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>  I do this summery is to make myself have a comprehensive concepts about the progress I’ve made last term.</p>
<h4 id="School-course"><a href="#School-course" class="headerlink" title="School course"></a>School course</h4><p>Result: all A*</p>
<p>The IGCSE course is relatively simple for me. Most knowledge I have already learned in the middle school. So I spent about only 40% of my time on this part.</p>
<h4 id="IELTS"><a href="#IELTS" class="headerlink" title="IELTS"></a>IELTS</h4><p>Result: 7 in total , 6 in each component</p>
<p>IELTS is the basic requirement for applying a university. I spent the rest 40% times on it. The result I have now can allow me to apply the university. But my ideal school needs higher mark. Therefore, I need to get a higher mark next year to satisfy the requirement of the condition offer.</p>
<p>Future plan: I plan to have the IELTS exam when I go to the senior three because I need to pay mainly of my attention on AS course study. Moreover, my English level may be better than now, it may be easier for me to get higher marks.</p>
<h4 id="Major-explore"><a href="#Major-explore" class="headerlink" title="Major explore"></a>Major explore</h4><p>Result: economics in general</p>
<p>After exploring different fields, I gradually found that I am better in liberal arts than science and I am especially interest in Economics. However, there are many branches in it which are still waiting for me to discover. </p>
<p>The activities I’ve done :</p>
<p>Eight Vally new retail activity</p>
<p>AI programming </p>
<p>Python Learning</p>
<h4 id="Preparing-for-the-Major"><a href="#Preparing-for-the-Major" class="headerlink" title="Preparing for the Major"></a>Preparing for the Major</h4><ul>
<li><p>Reading</p>
<ul>
<li>薛兆丰经济学讲义（basic economic concepts)</li>
<li>Monetary Economics</li>
<li>Human History</li>
<li>Capitalism</li>
</ul>
</li>
<li><p>Eight Vally new retail activity</p>
</li>
<li><p>Python Learning(necessary data analysis skills)</p>
</li>
<li><p>competition</p>
<ul>
<li>UKMT  Result: Gold award</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/06/Stage-summary-of-senior-one/" data-id="ckptrgenx002wg4vuazb53bco" data-title="Stage summary of senior one" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-The-unfamiliar-situation-I-have-met" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/09/12/The-unfamiliar-situation-I-have-met/" class="article-date">
  <time class="dt-published" datetime="2020-09-12T13:21:51.000Z" itemprop="datePublished">2020-09-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/paragraph-writing/">paragraph writing</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/09/12/The-unfamiliar-situation-I-have-met/">Paragraph writing The unfamiliar situation I have met</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Everyone in life will face an unfamiliar situation and environment and it is vital to confront it in the right way. Adjusting to an unfamiliar situation happened to me when I attended a business study project called Eight Valley  three month s ago . In this project, I learned about knowledge about new retailing  and created a plan for designing a retail store with business partners . The course was mainly divided into two stages. The first part consisted of learning the theory of retail management which included topics such as the type of retail shop and the way to make the store more attractive. In the second part, team members held team discussions to make a store designing plan and prepare for the final road show , which was the last and the biggest activity of this program. We designed a activities which allows shoppers to design their own shoes pattern. </p>
<p>Undeniably, the course content was really interesting, but the things  that made me feel a little bit uncomfortable was that the other team  members were students who was older than me , even there was one graduate. I didn’t know any of them and I was in a totally new environment. Moreover, since the knowledge of new retailing was brand new to me, I seldom came up with any creative ideas. Some of the older students, however, had much more active thinking and thought a lot of good ideas. In such an unfamiliar environment, I became shy to express my opinions and communicate less than others. Though I attended this project from the beginning untill the end, I still did not have too much sense of participation because of my wrong attitude and inability to adapt the unfamiliar situation.</p>
<p>After the course, I shared my feelings with my parents and teachers and I realized that it is necessary for me to learn how to integrate in an unfamiliar circumstance since I still need to face these problems after I work. Otherwise, it may make me lose many valuable job opportunities . I learned that one of the most important factors in life is confidence and being assertive with your viewpoints even if they may be controversial or rom a minority point of view. This is the process of learning. Always try your best to integrate into the group.  Therefore, you can have more sense of participation and gain more experience whatever task you do or whoever you cooperate with.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/12/The-unfamiliar-situation-I-have-met/" data-id="ckptrgeog0049g4vuf8l3g3sr" data-title="Paragraph writing The unfamiliar situation I have met" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/paragraph-writing/" rel="tag">paragraph writing</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Finance-Introducing-PPT" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/09/06/Finance-Introducing-PPT/" class="article-date">
  <time class="dt-published" datetime="2020-09-06T10:50:43.000Z" itemprop="datePublished">2020-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/09/06/Finance-Introducing-PPT/"> Finance Introducing PPT</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This is the PPT that I used for the speech in school.</p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmpDmV.jpg" alt="wmpDmV.jpg"></p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmpWlR.jpg" alt="wmpWlR.jpg"></p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmpf61.jpg" alt="wmpf61.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/wmp5m6"><img src="https://s1.ax1x.com/2020/09/06/wmp5m6.jpg" alt="wmp5m6.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/wmpI0K"><img src="https://s1.ax1x.com/2020/09/06/wmpI0K.jpg" alt="wmpI0K.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/wmpbfH"><img src="https://s1.ax1x.com/2020/09/06/wmpbfH.jpg" alt="wmpbfH.jpg"></a></p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmpLpd.jpg" alt="wmpLpd.jpg"></p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmpjXt.jpg" alt="wmpjXt.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/wmpxnP"><img src="https://s1.ax1x.com/2020/09/06/wmpxnP.jpg" alt="wmpxnP.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/wm9S78"><img src="https://s1.ax1x.com/2020/09/06/wm9S78.jpg" alt="wm9S78.jpg"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/06/Finance-Introducing-PPT/" data-id="ckptrgenb000zg4vugdagasxv" data-title=" Finance Introducing PPT" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ARDUINO-Programme-5" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/24/ARDUINO-Programme-5/" class="article-date">
  <time class="dt-published" datetime="2020-08-24T09:19:00.000Z" itemprop="datePublished">2020-08-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/24/ARDUINO-Programme-5/">ARDUINO Programme 5</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This is the last project of this program. I made a draw board.  </p>
<p>This program was divided into two classes. </p>
<h3 id="First-class"><a href="#First-class" class="headerlink" title="First class"></a>First class</h3><p>In this class, I mainly focused on the installation of basic components. It consists of  the base, the mechanical arm, the white board and the pen. </p>
<p><img src="https://s1.ax1x.com/2020/08/29/d74les.png" alt="d74les.png"></p>
<p>The main driving device is the mechanical arm. Three servos made the arm move in different direction. One of the servos is in charge of lifting and setting pens. The other two are responsible for writing on a horizontal plane.</p>
<p>There is also a eraser which is placed in a corner of the board. The mechanical arm can use it to erase the board automatically every time before writing.</p>
<h3 id="Second-class"><a href="#Second-class" class="headerlink" title="Second class"></a>Second class</h3><p>In the second class, we began to write the code and adjust the parameter.</p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/d7LK6P"><img src="https://s1.ax1x.com/2020/08/29/d7LK6P.png" alt="d7LK6P.png"></a></p>
<p>These are the important parameters I needed to adjust. These includes the degree how the mechanical arm will lift and set when writing, the exact coordinate of the eraser and the range of the arm can move.</p>
<p>These parameters need to be very exact that takes me hours to adjust them.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br></pre></td><td class="code"><pre><span class="line">#define SERVOPINLIFT  <span class="number">2</span> <span class="comment">//抬臂舵机</span></span><br><span class="line">#define SERVOPINLEFT  <span class="number">3</span> <span class="comment">//左臂舵机</span></span><br><span class="line">#define SERVOPINRIGHT <span class="number">4</span> <span class="comment">//右臂舵机</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 速度  数字越小越慢，太快了容易抖 1000~2000</span></span><br><span class="line">#define LIFTSPEED <span class="number">1500</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 悬臂的长度，根据图纸测量，无需改变</span></span><br><span class="line">#define L1 <span class="number">35</span></span><br><span class="line">#define L2 <span class="number">57.2</span></span><br><span class="line">#define L3 <span class="number">14.2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 左右舵机轴心的位置，根据图纸测量，无需改变</span></span><br><span class="line">#define O1X <span class="number">22</span></span><br><span class="line">#define O1Y -<span class="number">25</span></span><br><span class="line">#define O2X <span class="number">47</span></span><br><span class="line">#define O2Y -<span class="number">25</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//需要的库函数 ,如果编译报告 time.h 错误请参考readme文档、</span></span><br><span class="line"><span class="comment">//#include &lt;Time.h&gt; // see http://playground.arduino.cc/Code/time </span></span><br><span class="line">#include &lt;Servo.h&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> servoLift = LIFT2;</span><br><span class="line"></span><br><span class="line">Servo servo1;  <span class="comment">// </span></span><br><span class="line">Servo servo2;  <span class="comment">// </span></span><br><span class="line">Servo servo3;  <span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">volatile</span> <span class="keyword">double</span> lastX = rubberx;</span><br><span class="line"><span class="keyword">volatile</span> <span class="keyword">double</span> lastY = rubbery;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> last_min = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">  <span class="comment">// 设置一个模拟时间，（小时，分钟，后面全填0）</span></span><br><span class="line">  <span class="comment">//如果此句编译错误，请将文件包内的libraries库放到Arduino文件夹内，具体操作办法见说明文档</span></span><br><span class="line">  servo1.attach(SERVOPINLIFT);  <span class="comment">//初始化抬臂舵机  lifting servo</span></span><br><span class="line">  servo2.attach(SERVOPINLEFT);  <span class="comment">//初始化左臂舵机  left servo</span></span><br><span class="line">  servo3.attach(SERVOPINRIGHT); <span class="comment">//初始化右臂舵机  right servo</span></span><br><span class="line">  lift(<span class="number">2</span>); <span class="comment">//高抬笔</span></span><br><span class="line">  drawTo(rubberx, rubbery); <span class="comment">//停留在笔擦位置</span></span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">      lift(<span class="number">0</span>); <span class="comment">//落笔写字 </span></span><br><span class="line">      number(<span class="number">0</span>, <span class="number">3</span>, <span class="number">111</span>, <span class="number">1</span>);   <span class="comment">// 檫黑板  </span></span><br><span class="line">      number(<span class="number">0</span>, <span class="number">25</span>, <span class="number">1</span>, <span class="number">1</span>); </span><br><span class="line">      number(<span class="number">14</span>, <span class="number">25</span>, <span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">      number(<span class="number">25</span>, <span class="number">25</span>, <span class="number">11</span>,<span class="number">1</span>);  <span class="comment">// 打点</span></span><br><span class="line">      number(<span class="number">32</span>, <span class="number">25</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">      number(<span class="number">43</span>, <span class="number">25</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">      lift(<span class="number">2</span>); <span class="comment">//高抬笔</span></span><br><span class="line">      drawTo(rubberx, rubbery); <span class="comment">//【此数值可能需要调节】  默认为70  44</span></span><br><span class="line">      lift(<span class="number">1</span>);<span class="comment">//抬笔</span></span><br><span class="line">      servo1.detach();</span><br><span class="line">      servo2.detach();</span><br><span class="line">      servo3.detach();</span><br><span class="line">     <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// Writing numeral with bx by being the bottom left originpoint. Scale 1 equals a 20 mm high font.</span></span><br><span class="line"><span class="comment">// The structure follows this principle: move to first startpoint of the numeral, lift down, draw numeral, lift up</span></span><br><span class="line"><span class="comment">//这里是写字的函数，如果你觉得字写的丑，可以自行修改字体，结果可能是更丑</span></span><br><span class="line"><span class="comment">//还可以自行增加其他内容，比如字母甚至是汉字</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">number</span><span class="params">(<span class="keyword">float</span> bx, <span class="keyword">float</span> by, <span class="keyword">int</span> num, <span class="keyword">float</span> scale)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (num) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    drawTo(bx + <span class="number">12</span> * scale, by + <span class="number">6</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenGZS(bx + <span class="number">7</span> * scale, by + <span class="number">10</span> * scale, <span class="number">10</span> * scale, -<span class="number">0.8</span>, <span class="number">6.7</span>, <span class="number">0.5</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">    drawTo(bx + <span class="number">3</span> * scale, by + <span class="number">15</span> * scale); <span class="comment">//</span></span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">20</span> * scale);<span class="comment">// drawTo(bx + 10 * scale, by + 20 * scale);</span></span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">0</span> * scale);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">12</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">8</span> * scale, by + <span class="number">14</span> * scale, <span class="number">6</span> * scale, <span class="number">3</span>, -<span class="number">0.8</span>, <span class="number">1</span>);</span><br><span class="line">    drawTo(bx + <span class="number">1</span> * scale, by + <span class="number">0</span> * scale);</span><br><span class="line">    drawTo(bx + <span class="number">12</span> * scale, by + <span class="number">2</span> * scale);<span class="comment">//    drawTo(bx + 12 * scale, by + 0 * scale);</span></span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">17</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">5</span> * scale, by + <span class="number">15</span> * scale, <span class="number">5</span> * scale, <span class="number">3</span>, -<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">5</span> * scale, by + <span class="number">5</span> * scale, <span class="number">5</span> * scale, <span class="number">1.57</span>, -<span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    drawTo(bx + <span class="number">10</span> * scale, by + <span class="number">0</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    drawTo(bx + <span class="number">10</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    drawTo(bx + <span class="number">4</span> * scale, by + <span class="number">2</span> * scale); <span class="comment">//   drawTo(bx + 2 * scale, by + 6 * scale);</span></span><br><span class="line">    drawTo(bx + <span class="number">15</span> * scale, by + <span class="number">6</span> * scale);<span class="comment">//    drawTo(bx + 12 * scale, by + 6 * scale);</span></span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">5</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenGZS(bx + <span class="number">5</span> * scale, by + <span class="number">6</span> * scale, <span class="number">6</span> * scale, -<span class="number">2.5</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    drawTo(bx + <span class="number">12</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">10</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">7</span> * scale, by + <span class="number">6</span> * scale, <span class="number">6</span> * scale, <span class="number">2</span>, -<span class="number">4.4</span>, <span class="number">1</span>);</span><br><span class="line">    drawTo(bx + <span class="number">11</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    drawTo(bx + <span class="number">12</span> * scale, by + <span class="number">20</span> * scale);</span><br><span class="line">    drawTo(bx + <span class="number">2</span> * scale, by + <span class="number">0</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">10</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">5</span> * scale, by + <span class="number">15</span> * scale, <span class="number">5</span> * scale, <span class="number">4.7</span>, -<span class="number">1.6</span>, <span class="number">1</span>);</span><br><span class="line">    bogenGZS(bx + <span class="number">5</span> * scale, by + <span class="number">5</span> * scale, <span class="number">5</span> * scale, -<span class="number">4.7</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">    drawTo(bx + <span class="number">9</span> * scale, by + <span class="number">11</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenUZS(bx + <span class="number">7</span> * scale, by + <span class="number">15</span> * scale, <span class="number">5</span> * scale, <span class="number">4</span>, -<span class="number">0.5</span>, <span class="number">1</span>);</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">0</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="number">111</span>:</span><br><span class="line"></span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    drawTo(rubberx, rubbery);</span><br><span class="line">    drawTo(<span class="number">58</span>, <span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">    drawTo(<span class="number">58</span>, <span class="number">45</span>); </span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">45</span>);</span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">41</span>);</span><br><span class="line">    drawTo(<span class="number">58</span>, <span class="number">41</span>);</span><br><span class="line">    drawTo(<span class="number">60</span>, <span class="number">37</span>);</span><br><span class="line"></span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">37</span>);</span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">33</span>);</span><br><span class="line">    drawTo(<span class="number">60</span>, <span class="number">33</span>);</span><br><span class="line">    drawTo(<span class="number">60</span>, <span class="number">29</span>);</span><br><span class="line"></span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">29</span>);</span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">25</span>);</span><br><span class="line">    drawTo(<span class="number">60</span>, <span class="number">25</span>);</span><br><span class="line">    drawTo(<span class="number">60</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    drawTo(<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    drawTo(<span class="number">60</span>, rubbery-<span class="number">3</span>);</span><br><span class="line">    drawTo(rubberx+<span class="number">6</span> , rubbery-<span class="number">3</span>);</span><br><span class="line">    lift(<span class="number">2</span>);</span><br><span class="line">    drawTo(rubberx , rubbery);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">15</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenGZS(bx + <span class="number">5</span> * scale, by + <span class="number">15</span> * scale, <span class="number">0.1</span> * scale, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    drawTo(bx + <span class="number">5</span> * scale, by + <span class="number">5</span> * scale);</span><br><span class="line">    lift(<span class="number">0</span>);</span><br><span class="line">    bogenGZS(bx + <span class="number">5</span> * scale, by + <span class="number">5</span> * scale, <span class="number">0.1</span> * scale, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    lift(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抬函数，不同的摆臂高度</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lift</span><span class="params">(<span class="keyword">char</span> lift)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (lift) &#123;</span><br><span class="line">    <span class="comment">// room to optimize  !</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>: </span><br><span class="line">      <span class="keyword">if</span> (servoLift &gt;= LIFT0) &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &gt;= LIFT0) </span><br><span class="line">      &#123;</span><br><span class="line">        servoLift--;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);				</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &lt;= LIFT0) &#123;</span><br><span class="line">        servoLift++;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">    <span class="keyword">if</span> (servoLift &gt;= LIFT1) &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &gt;= LIFT1) &#123;</span><br><span class="line">        servoLift--;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &lt;= LIFT1) &#123;</span><br><span class="line">        servoLift++;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">if</span> (servoLift &gt;= LIFT2) &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &gt;= LIFT2) &#123;</span><br><span class="line">        servoLift--;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (servoLift &lt;= LIFT2) &#123;</span><br><span class="line">        servoLift++;</span><br><span class="line">        servo1.writeMicroseconds(servoLift);				</span><br><span class="line">        delayMicroseconds(LIFTSPEED);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//里面似乎有勾股定理？</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bogenUZS</span><span class="params">(<span class="keyword">float</span> bx, <span class="keyword">float</span> by, <span class="keyword">float</span> radius, <span class="keyword">int</span> start, <span class="keyword">int</span> ende, <span class="keyword">float</span> sqee)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span> inkr = -<span class="number">0.05</span>;</span><br><span class="line">  <span class="keyword">float</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    drawTo(sqee * radius * cos(start + count) + bx,</span><br><span class="line">    radius * sin(start + count) + by);</span><br><span class="line">    count += inkr;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">while</span> ((start + count) &gt; ende);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//cos？sin？</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bogenGZS</span><span class="params">(<span class="keyword">float</span> bx, <span class="keyword">float</span> by, <span class="keyword">float</span> radius, <span class="keyword">int</span> start, <span class="keyword">int</span> ende, <span class="keyword">float</span> sqee)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span> inkr = <span class="number">0.05</span>;</span><br><span class="line">  <span class="keyword">float</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    drawTo(sqee * radius * cos(start + count) + bx,</span><br><span class="line">    radius * sin(start + count) + by);</span><br><span class="line">    count += inkr;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">while</span> ((start + count) &lt;= ende);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">drawTo</span><span class="params">(<span class="keyword">double</span> pX, <span class="keyword">double</span> pY)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">double</span> dx, dy, c;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// dx dy of new point</span></span><br><span class="line">  dx = pX - lastX;</span><br><span class="line">  dy = pY - lastY;</span><br><span class="line">  <span class="comment">//path lenght in mm, times 4 equals 4 steps per mm</span></span><br><span class="line">  c = floor(<span class="number">4</span> * sqrt(dx * dx + dy * dy));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (c &lt; <span class="number">1</span>) c = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= c; i++) &#123;</span><br><span class="line">    <span class="comment">// draw line point by point</span></span><br><span class="line">    set_XY(lastX + (i * dx / c), lastY + (i * dy / c));</span><br><span class="line">  &#125;</span><br><span class="line">  lastX = pX;</span><br><span class="line">  lastY = pY;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">return_angle</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// cosine rule for angle between c and a</span></span><br><span class="line">  <span class="keyword">return</span> acos((a * a + c * c - b * b) / (<span class="number">2</span> * a * c));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用各种三角函数把位置坐标换算成舵机的角度，具体咋算的，请参考</span></span><br><span class="line"><span class="comment">//Plotclock by joo - Thingiverse</span></span><br><span class="line"><span class="comment">//http://www.thingiverse.com/thing:248009/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_XY</span><span class="params">(<span class="keyword">double</span> Tx, <span class="keyword">double</span> Ty)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  delay(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">double</span> dx, dy, c, a1, a2, Hx, Hy;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// calculate triangle between pen, servoLeft and arm joint</span></span><br><span class="line">  <span class="comment">// cartesian dx/dy</span></span><br><span class="line">  dx = Tx - O1X;</span><br><span class="line">  dy = Ty - O1Y;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// polar lemgth (c) and angle (a1)</span></span><br><span class="line">  c = sqrt(dx * dx + dy * dy); <span class="comment">// </span></span><br><span class="line">  a1 = atan2(dy, dx); <span class="comment">//</span></span><br><span class="line">  a2 = return_angle(L1, L2, c);</span><br><span class="line"></span><br><span class="line">    servo2.writeMicroseconds(floor(((a2 + a1 - M_PI) * SERVOFAKTORLEFT) + SERVOLEFTNULL));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// calculate joinr arm point for triangle of the right servo arm</span></span><br><span class="line">  a2 = return_angle(L2, L1, c);</span><br><span class="line">  Hx = Tx + L3 * cos((a1 - a2 + <span class="number">0.621</span>) + M_PI); <span class="comment">//36,5掳</span></span><br><span class="line">  Hy = Ty + L3 * sin((a1 - a2 + <span class="number">0.621</span>) + M_PI);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// calculate triangle between pen joint, servoRight and arm joint</span></span><br><span class="line">  dx = Hx - O2X;</span><br><span class="line">  dy = Hy - O2Y;</span><br><span class="line"></span><br><span class="line">  c = sqrt(dx * dx + dy * dy);</span><br><span class="line">  a1 = atan2(dy, dx);</span><br><span class="line">  a2 = return_angle(L1, (L2 - L3), c);</span><br><span class="line">  servo3.writeMicroseconds(floor(((a1 - a2) * SERVOFAKTORRIGHT) + SERVORIGHTNULL));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Its principle is :</p>
<ul>
<li>marking all the coordinate of each strokes of each number</li>
<li>use the particular digital library</li>
<li>output by moving the mechanical arm</li>
</ul>
<h3 id="Final-product"><a href="#Final-product" class="headerlink" title="Final product"></a>Final product</h3><p><img src="https://s1.ax1x.com/2020/08/29/d7vyb6.jpg" alt="d7vyb6.jpg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/24/ARDUINO-Programme-5/" data-id="ckptrgen5000hg4vuem5m2mbg" data-title="ARDUINO Programme 5" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ARDUINO-Programme-4" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/20/ARDUINO-Programme-4/" class="article-date">
  <time class="dt-published" datetime="2020-08-20T12:11:50.000Z" itemprop="datePublished">2020-08-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-learning/">Computer learning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/20/ARDUINO-Programme-4/">ARDUINO Programme 4</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><ul>
<li>a password system</li>
<li>a keyboard to input the password</li>
<li>a screen to show the four-digit password, which is  1234</li>
<li>if the password is correct, the steering engine starts working</li>
<li>if wrong, the light turns on</li>
</ul>
<h3 id="How-to-connect"><a href="#How-to-connect" class="headerlink" title="How to connect"></a>How to connect</h3><p><a target="_blank" rel="noopener" href="https://imgchr.com/i/dJtbWT"><img src="https://s1.ax1x.com/2020/08/20/dJtbWT.jpg" alt="dJtbWT.jpg"></a></p>
<h3 id="Program"><a href="#Program" class="headerlink" title="Program"></a>Program</h3><p>Include all the packages we need.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;Keypad.h&gt; </span><br><span class="line">#include &lt;Servo.h&gt;  </span><br><span class="line">#include &lt;TM1637.h&gt;</span><br><span class="line">#define CLK 2    </span><br><span class="line">#define DIO 12</span><br><span class="line">#define KEY_ROWS 4 </span><br><span class="line">#define KEY_COLS 4 </span><br><span class="line">Servo myservo;  </span><br></pre></td></tr></table></figure>



<p>Set all these packets in detail.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">TM1637 tm1637(CLK,DIO);</span><br><span class="line"></span><br><span class="line">char keymap[KEY_ROWS][KEY_COLS] = &#123;</span><br><span class="line">  &#123;&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;A&#x27;&#125;,</span><br><span class="line">  &#123;&#x27;4&#x27;, &#x27;5&#x27;, &#x27;6&#x27;, &#x27;B&#x27;&#125;,</span><br><span class="line">  &#123;&#x27;7&#x27;, &#x27;8&#x27;, &#x27;9&#x27;, &#x27;C&#x27;&#125;,</span><br><span class="line">  &#123;&#x27;*&#x27;, &#x27;0&#x27;, &#x27;#&#x27;, &#x27;D&#x27;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">byte colPins[KEY_COLS] = &#123;7, 6, 5, 4&#125;; </span><br><span class="line">byte rowPins[KEY_ROWS] = &#123;11, 10, 9, 8&#125;;  </span><br><span class="line">Keypad myKeypad = Keypad(makeKeymap(keymap), rowPins, colPins, KEY_ROWS, KEY_COLS);</span><br></pre></td></tr></table></figure>



<p>Set the password.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int times = 0;</span><br><span class="line">int password = 1234;</span><br><span class="line">int keyword = 0;</span><br></pre></td></tr></table></figure>



<p>Set the initial input and output.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">void setup()&#123;</span><br><span class="line">  Serial.begin(9600);</span><br><span class="line">  myservo.attach(3);</span><br><span class="line">  tm1637.init();</span><br><span class="line">  tm1637.point(1);//小数点开关，1为打开，0为关闭</span><br><span class="line">  tm1637.set(BRIGHT_TYPICAL);</span><br><span class="line">  pinMode(13, OUTPUT);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Define the function to achieve the power multiple calculations.</p>
<p>It will help manage the transform of four single digits into thousands.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">int multiple(int keytimes)&#123;</span><br><span class="line">    int multi;</span><br><span class="line">    switch(keytimes)&#123;</span><br><span class="line">        case 0: multi = 1000;</span><br><span class="line">        break;</span><br><span class="line">        case 1: multi = 100;</span><br><span class="line">        break;</span><br><span class="line">        case 2: multi = 10;</span><br><span class="line">        break;</span><br><span class="line">        case 3: multi = 1;</span><br><span class="line">        break;</span><br><span class="line">        default: multi = 0;</span><br><span class="line">        break; </span><br><span class="line">      &#125;</span><br><span class="line">    return multi;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<p>When starting the loop, set the original state.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">void loop()&#123;</span><br><span class="line">  char key = myKeypad.getKey();</span><br><span class="line">  digitalWrite(13, HIGH);</span><br></pre></td></tr></table></figure>



<p>Complete the condition sentence.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">if (key)&#123;</span><br><span class="line">    digitalWrite(13, HIGH); </span><br><span class="line">    tm1637.display(times, (int(key)-48));</span><br><span class="line">    keyword = keyword + (int(key)-48)*(multiple(times));</span><br><span class="line">    times ++;                     #show the input password on the screen</span><br><span class="line">    if(times &gt; 3)&#123;                #condition 1  zero clearing after four digit </span><br><span class="line">        if(keyword == password)&#123;                has all inputed</span><br><span class="line">            myservo.write(0);                   </span><br><span class="line">            tm1637.display(0, 0);               </span><br><span class="line">            tm1637.display(1, 0);</span><br><span class="line">            tm1637.display(2, 0);</span><br><span class="line">            tm1637.display(3, 0);</span><br><span class="line">            delay(1000);</span><br><span class="line">            keyword = 0;</span><br><span class="line">            myservo.write(90);                   turning the servo</span><br><span class="line">          &#125;</span><br><span class="line">        else&#123;                     #condition 2   if the password is not correct</span><br><span class="line">            digitalWrite(13, LOW);               screen zero clearing</span><br><span class="line">            delay(2000);                         </span><br><span class="line">            digitalWrite(13, HIGH);              light on</span><br><span class="line">            tm1637.display(0, 0);</span><br><span class="line">            tm1637.display(1, 0);</span><br><span class="line">            tm1637.display(2, 0);</span><br><span class="line">            tm1637.display(3, 0);</span><br><span class="line">            keyword = 0;</span><br><span class="line">          &#125;</span><br><span class="line">        times = 0;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>



<p>Show on the serial monitor.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Serial.println(keyword);</span><br><span class="line">      Serial.println(times);</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/20/ARDUINO-Programme-4/" data-id="ckptrgen3000cg4vu34u197u7" data-title="ARDUINO Programme 4" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ARDUINO/" rel="tag">ARDUINO</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI-Competition/">AI Competition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Business-study/">Business study</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-learning/">Computer learning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading-Seminar/">Reading Seminar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Testing/">Testing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/paragraph-writing/">paragraph writing</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI-Competition/" rel="tag">AI Competition</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARDUINO/" rel="tag">ARDUINO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Business-study/" rel="tag">Business study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Business-theory-and-case-study/" rel="tag">Business theory and case study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C11-project/" rel="tag">C11 project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Analysis/" rel="tag">Data Analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fair-development/" rel="tag">Fair development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Lesson/" rel="tag">Python Lesson</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Notes/" rel="tag">Python Notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reading-Seminar/" rel="tag">Reading Seminar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test-File/" rel="tag">Test File</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paragraph-writing/" rel="tag">paragraph writing</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI-Competition/" style="font-size: 13.33px;">AI Competition</a> <a href="/tags/ARDUINO/" style="font-size: 15px;">ARDUINO</a> <a href="/tags/Business-study/" style="font-size: 10px;">Business study</a> <a href="/tags/Business-theory-and-case-study/" style="font-size: 10px;">Business theory and case study</a> <a href="/tags/C11-project/" style="font-size: 13.33px;">C11 project</a> <a href="/tags/Data-Analysis/" style="font-size: 13.33px;">Data Analysis</a> <a href="/tags/Fair-development/" style="font-size: 16.67px;">Fair development</a> <a href="/tags/Python-Lesson/" style="font-size: 18.33px;">Python Lesson</a> <a href="/tags/Python-Notes/" style="font-size: 20px;">Python Notes</a> <a href="/tags/Reading-Seminar/" style="font-size: 10px;">Reading Seminar</a> <a href="/tags/Test-File/" style="font-size: 11.67px;">Test File</a> <a href="/tags/paragraph-writing/" style="font-size: 15px;">paragraph writing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/02/Survey-on-the-sustainability-factors-of-the-fair-development-6/">Survey on the sustainability factors of the fair development(6)</a>
          </li>
        
          <li>
            <a href="/2021/02/20/Python-Nanjing-Metro-Line-1-Price-Consulting-System/">Python Nanjing Metro Line 1 Price Consulting System</a>
          </li>
        
          <li>
            <a href="/2021/02/19/Survey-on-the-sustainability-factors-of-the-fair-development-5/">Survey on the sustainability factors of the fair development(5)</a>
          </li>
        
          <li>
            <a href="/2021/02/07/Survey-on-the-sustainability-factors-of-the-fair-development-4/"> Survey on the sustainability factors of the fair development(4)</a>
          </li>
        
          <li>
            <a href="/2021/02/07/Paragraph-writing/">Paragraph writing Who I am</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Han<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>